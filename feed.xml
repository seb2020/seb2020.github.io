<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="https://www.sgir.ch/feed.xml" rel="self" type="application/atom+xml"/><link href="https://www.sgir.ch/" rel="alternate" type="text/html" hreflang="en"/><updated>2024-12-06T13:09:17+00:00</updated><id>https://www.sgir.ch/feed.xml</id><title type="html">blank</title><subtitle>Personal blog. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">OpenSSL for humans</title><link href="https://www.sgir.ch/blog/2024/openssl/" rel="alternate" type="text/html" title="OpenSSL for humans"/><published>2024-12-01T15:09:00+00:00</published><updated>2024-12-01T15:09:00+00:00</updated><id>https://www.sgir.ch/blog/2024/openssl</id><content type="html" xml:base="https://www.sgir.ch/blog/2024/openssl/"><![CDATA[<h2 id="validation">Validation</h2> <p>Various tips to validate certificate</p> <h3 id="dane">DANE</h3> <p>This theme implements a built-in Jekyll feature, the use of Rouge, for syntax highlighting. It supports more than 100 languages. This example is in C++. All you have to do is wrap your code in markdown code tags:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>openssl s_client <span class="nt">-starttls</span> smtp <span class="se">\</span>
<span class="nt">-connect</span> mail.protonmail.ch:25 <span class="se">\</span>
<span class="nt">-dane_tlsa_domain</span> mail.protonmail.ch <span class="se">\</span>
<span class="nt">-dane_tlsa_rrdata</span> <span class="s2">"3 1 1 76BB66711DA416433CA890A5B2E5A0533C6006478F7D10A4469A947ACC8399E1"</span>
</code></pre></div></div> <p>If the verification is successful, you will see something like this in the output:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SSL handshake has read 5209 bytes and written 433 bytes Verification: OK Verified peername: *.protonmail.ch DANE TLSA 3 1 1 ...8f7d10a4469a947acc8399e1 matched EE certificate at depth 0
</code></pre></div></div> <p>If youâ€™d like to test for validation failure, just break the supplied hash. The result will be similar to the following output:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SSL handshake has read 5209 bytes and written 433 bytes Verification error: No matching DANE TLSA records
</code></pre></div></div>]]></content><author><name></name></author><category term="linux"/><category term="openssl"/><summary type="html"><![CDATA[Usefull openssl examples]]></summary></entry><entry><title type="html">Enable CDC for MariaDB</title><link href="https://www.sgir.ch/blog/2024/cdc-enable-mariadb/" rel="alternate" type="text/html" title="Enable CDC for MariaDB"/><published>2024-11-25T11:15:00+00:00</published><updated>2024-11-25T11:15:00+00:00</updated><id>https://www.sgir.ch/blog/2024/cdc-enable-mariadb</id><content type="html" xml:base="https://www.sgir.ch/blog/2024/cdc-enable-mariadb/"><![CDATA[<h2 id="enable-cdc-for-mariadb-with-galera">Enable CDC for MariaDB with Galera</h2> <p>Edit the file <code class="language-plaintext highlighter-rouge">/etc/my.cnf.d/server.cnf</code> and add the following:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>mysqld]
server-id         <span class="o">=</span> 1   <span class="c"># Querying variable is called server_id, e.g. SELECT variable_value FROM information_schema.global_variables WHERE variable_name='server_id';</span>
log_bin                     <span class="o">=</span> mariadb-bin
binlog_format               <span class="o">=</span> ROW
binlog_row_image            <span class="o">=</span> FULL
binlog_expire_logs_seconds  <span class="o">=</span> 7200
</code></pre></div></div> <p>Restart the MariaDB service on each node.</p> <p>Validate the new configuration:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MariaDB <span class="o">[(</span>none<span class="o">)]&gt;</span> SHOW VARIABLES LIKE <span class="s1">'%log_bin%'</span><span class="p">;</span>
+---------------------------------+-------------------------------+
| Variable_name                   | Value                         |
+---------------------------------+-------------------------------+
| log_bin                         | ON                            |
| log_bin_basename                | /data/mysql/mariadb-bin       |
| log_bin_compress                | OFF                           |
| log_bin_compress_min_len        | 256                           |
| log_bin_index                   | /data/mysql/mariadb-bin.index |
| log_bin_trust_function_creators | OFF                           |
| sql_log_bin                     | ON                            |
+---------------------------------+-------------------------------+
7 rows <span class="k">in </span><span class="nb">set</span> <span class="o">(</span>0.001 sec<span class="o">)</span>
</code></pre></div></div> <p>Create a MariaDB user for accessing the database:</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MariaDB</span> <span class="p">[(</span><span class="k">none</span><span class="p">)]</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">'debeziumint'</span><span class="o">@</span><span class="s1">'%'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'password'</span><span class="p">;</span>
<span class="n">MariaDB</span> <span class="p">[(</span><span class="k">none</span><span class="p">)]</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">grants</span> <span class="k">for</span> <span class="s1">'debeziumint'</span><span class="o">@</span><span class="s1">'%'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">debeziumint</span><span class="o">@%</span>                                                                                                                                               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">SELECT</span><span class="p">,</span> <span class="n">RELOAD</span><span class="p">,</span> <span class="k">SHOW</span> <span class="n">DATABASES</span><span class="p">,</span> <span class="n">REPLICATION</span> <span class="n">SLAVE</span><span class="p">,</span> <span class="n">BINLOG</span> <span class="n">MONITOR</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="nv">`debeziumint`</span><span class="o">@</span><span class="nv">`%`</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">'*XXXXX...'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="database"/><category term="debezium,"/><category term="cdc"/><summary type="html"><![CDATA[Enable CDC for MariaDB for capturing data]]></summary></entry></feed>